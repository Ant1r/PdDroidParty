<html>
<head>
	<!--
		index.html is generated from index-template.html
		so make sure you are editing the latter!
	-->
	<title>PdDroidParty - Pure Data patches on Android devices</title>
	<link href='http://fonts.googleapis.com/css?family=Didact+Gothic' rel='stylesheet' type='text/css'>
	<style>
		body {
			margin-top: 20px;
			font-family: 'Didact Gothic', sans-serif;
			color: #333333;
			background-color: #eee;
			background-image: url(pattern.gif);
		}
		
		div#inner {
			margin-left: auto;
			margin-right: auto;
			background: rgba(255, 255,255,0.5);
			padding: 1em;
			box-shadow: 0px 0px 10px #888;
			-webkit-box-shadow: 0px 0px 10px #888;
			-moz-box-shadow: 0px 0px 10px #888;
			/* For IE 8 */
			-ms-filter: "progid:DXImageTransform.Microsoft.Shadow(Strength=10, Direction=0, Color='#888888')";
			/* For IE 5.5 - 7 */
			filter: progid:DXImageTransform.Microsoft.Shadow(Strength=10, Direction=0, Color='#888888');
			
			max-width: 1024px;
		}
	
		img#screenshot {
			float: right;
			margin-right: 1em;
			margin-left: 1em;
		}
		
		img#icon {
			position: relative;
			top: 5px;
		}
		
		.applink {
			display: table-cell;
			vertical-align: middle;
			width: 200px;
			text-align: center;
			float: right;
			margin-right: 1em;
			margin-left: 1em;
		}
		
		.applink img.logo {
			float: left;
		}
		
		h1 {
			text-align: center;
			font-weight: 500;
		}
			
		a {
			text-decoration: none;
			color: #a0c030;
			font-weight: bold;
		}
		
		a:hover {
			text-decoration: underline;
		}
	</style>
</head>
<body>
<div id='outer'>
<h1><img src='icon.png' id='icon'/>PdDroidParty</h1>

<div id='inner'>

<div class='applink'><a href='https://market.android.com/details?id=cx.mccormick.canofbeats'><img src='canofbeats-icon.png' class='logo'/>
support this<br/>buy CanOfBeats<br/><img src='45_avail_market_logo1.png'/></a>
<p><strong><small>Donate:</small></strong><br/><a href='bitcoin:1prtyx7MwmKomyeEAhMiGYzNithTcmSJV?label=PdDroidParty+  donation'>
	<img src='btc-donate-qrcode.png' alt='bitcoin:1prtyx7MwmKomyeEAhMiGYzNithTcmSJV' title='bitcoin:1prtyx7MwmKomyeEAhMiGYzNithTcmSJV'></a></p>
</div>

<p>Run your <a href='http://puredata.info/'>Pure Data</a> patches on Android with native GUIs emulated.</p>

<h3>Download <a href='PdDroidParty-debug-REVNO.apk'>PdDroidParty-debug-REVNO.apk</a></h3>

<p><strong>Donate: </strong><a href='bitcoin:1prtyx7MwmKomyeEAhMiGYzNithTcmSJV?label=PdDroidParty+donation'>1prtyx7MwmKomyeEAhMiGYzNithTcmSJV</a></p>

<p>Useful PdDroidParty patches and abstractions:</p>
<ul>
<li><a href='droidparty-tests.zip'>droidparty-tests.zip</a></li>
<li><a href='droidparty-abstractions.zip'>droidparty-abstractions.zip</a></li>
<li><a href='droidparty-demos.zip'>droidparty-demos.zip</a></li>
</ul>

<!--	<div class='donate'>
	<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
	<input type="hidden" name="cmd" value="_donations">
	<input type="hidden" name="business" value="chris@mccormick.cx">
	<input type="hidden" name="lc" value="US">
	<input type="hidden" name="item_name" value="PdDroidParty development">
	<input type="hidden" name="item_number" value="PdDroidParty">
	<input type="hidden" name="no_note" value="0">
	<input type="hidden" name="currency_code" value="USD">
	<input type="hidden" name="bn" value="PP-DonationsBF:btn_donate_SM.gif:NonHostedGuest">
	<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
	<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
	</form>
	</div> -->

<p>(Unzip the zipfiles onto your device's sdcard e.g. into /sdcard/PdDroidParty/)</p>

<img id='screenshot' src='PdDroidParty.png'>

<p><a href='https://github.com/chr15m/PdDroidParty'>Get the GPLv3 source code from GitHub</a></p>

<p>On iOS? Check out <a href='https://github.com/danomatika/PdParty'>PdParty for iOS</a> and <a href='http://www.mobmuplat.com/'>MobMuPlat</a>.</p>

<h3>Help and support</h3>

<p>Need help? Ask a question on <a href='http://lists.puredata.info/listinfo/pd-list'>the Pure Data mailing list</a> or <a href='https://forum.pdpatchrepo.info/'>the Pure Data Forum</a> or <a href='https://puredata.info/community/'>another Pd community</a>.

<h3>How to make patches for PdDroidParty</h3>

<p>1. Create a new Pd patch called droidparty_main.pd in a subdirectory. This patch will contain your GUI objects like sliders, toggles, numberboxes etc. If you have an existing patch you want to run with PdDroidParty you can create the droidparty_main.pd patch in the same directory.</p>

<p>2. PdDroidParty GUI patches will be scaled to fit the screen of the device. Your patches should have the rough dimensions of a phone/tablet in landscape mode (e.g. 3:2 aspect ratio or e.g. 480x320 should usually work well). If it's not exact it doesn't matter - the GUI elements will be scaled.</p>

<p>3. Numberbox, Sliders, Toggle, Comment, Bang, and Canvas are currently rendered by PdDroidParty, although not feature complete. Check out the GUI abstractions in the <a href='droidparty-abstractions.zip'>droidparty-abstractions.zip</a> file - these are also supported natively. See the Abstractions section below for more details.</p>

<p>4. All GUI elements should communicate with the main audio patches using send and receive only. You can usually set send and receive for each GUI by right clicking on the object and choosing 'properties' in Pd. Do not directly connect cables to the GUI elements as they won't work. It helps to keep the GUIs on their own in the droidparty_main.pd file and have it include the logic of your patch as an abstraction or subpatch containing senders and receivers for interfacing with GUI elements. This is good patch design practice anyway as it is basically a model-view-controller methodology.</p>

<p>5. Copy the entire directory containing your droidparty_main.pd onto the sdcard of your device under a directory called PdDroidParty. You can usually do this over USB with most phones and tablets by mounting your device as a hard drive on your computer. For example your directory called MyPdPatch containing a patch called droidparty_main.pd could be copied to /sdcard/PdDroidParty/MyPdPatch on your device.</p>

<p>6. Run PdDroidParty and you will find an entry named after your subdirectory. Tap it to load your patch.</p>

<h3>Sharing your patches</h3>

<p>You can share your PdDroidParty compatible patches with people by zipping up the folder with your patche in it and renaming the file extension from <code>.zip</code> to <code>.dpz</code>. When you send a <code>.dpz</code> file to somebody PdDroidParty will launch and run the patch on their device if they have the app installed. You should make sure the zip file contains the top level directory with the name of your patch, for example MyPatch.zip should contain a folder called <code>MyPatch</code> which contains your files like droidparty_main.pd etc. You can also include a Pd comment with the text "version: 99" to set the version of your patch so that people receiving them will know what version they are being asked to install. Each time you release a new version of your <code>.dpz</code> file you can increment the version number.</p>

<h3>Abstractions</h3>

<p>As well as the supported internal objects listed above the following abstractions work in Pd and are emulated natively on the device. Load the file droidparty-abstractions/_OVERVIEW.pd for more details and specific usage:</p>

<ul>
	<li>[wordbutton] - It's like a bang, but on the device it looks like a box with a word in it.</li>
	<li>[numberbox] - It's like a numberbox, but on the device it stretches to fit a rectangle. (easier layout).</li>
	<li>[taplist] - Lets the user tap through a list of symbols/floats.</li>
	<li>[touch] - Kaospad style 2d touch surface.</li>
	<li>[menubang] - Puts an entry into the menu which sends a bang when the user selects it. Optional icon is called menubang-xxxx.png where xxxx is the name of your menubang.</li>
	<li>[loadsave] - Wraps and openpanel/savepanel type of interface into a single abstraction that lets the user specify or choose filenames using the Android interface.</li>
</ul>

<h3>MIDI</h3>

<p>You can connect your MIDI controllers and keyboards to your device running PdDroidParty and use them to control your patches with Pd's built-in midi objects like [ctlin] and [notein]. You will probably need an OTG USB cable to plug in your MIDI devices and Android version 2.4 or higher. Once you have plugged in your MIDI device and loaded a PdDroidParty path, use the menu to enable access to the device in the software.</p>

<h3>Fonts</h3>

<p>You can theme all of the defult non-SVG-themed widgets with a font other than the built-in courier font. Put a TTF font file of your choice in the patch directory and call it 'font.ttf' if you want aliased rendering, or 'font-antialiased.ttf' if you want anti-aliased rendering. This will cause PdDroidParty to render that patch with the font you have chosen.</p>

<h3>SVG Widgets</h3>

<p>It's possible to theme your patches with SVG images now. You can theme the following Pd GUI objects: canvas, numberbox (the abstraction), sliders, taplist (abstraction), toggle, touch (abstraction), wordbutton (abstraction).</p>

<p>To theme e.g. the toggle, create an SVG called Toggle.svg in the directory holding your droidparty_main.pd patch. You can also have separate images for specific toggles by using their send name or label name in the SVG filename. For example a toggle with a send name of "mysend" could have an SVG called Toggle-mysend.svg which would override the default Toggle.svg image. Send and label names are split on the hyphen ("-") character so for example if you have two toggles with send names of mysend-1 and mysend-2 you could theme them separately with Toggle-mysend-1.svg and Toggle-mysend-2.svg or you could theme them with the same image by creating a file called Toggle-mysend.svg which would apply to both.<p>

<p>The SVG renderer is not very robust, so the best way to design your own widget graphics is to start with the widget graphics in droidparty-tests/svg-widgets/*.svg and modify them. The renderer only really works on plain paths, so make sure you convert any objects like rectangles or circles to plain SVG paths. The renderer used is a fork of <a href="http://code.google.com/p/svg-android/">svg-android</a> with some support for <a href="http://inkscape.org/">Inkscape</a> hacked in.</p>

<p>You can put three special attributes on the SVG element using a text editor, for font customisation. They are textFont, textColor, textOffset and textAntialias. textOffset is a relative value like "0.25 0.25" which will move the text down and to the right relative to the center of the widget being drawn. textFont should be the name of the font file excluding the extension. textAntialias should be "true" or "false". textColor is a hex string like "#ffffff".</p>

<h3>ViewPort canvas</h3>

<p>It is possible to map only a part of the main Pd window to the actual device screen, by using a specially configured canvas GUI:</p>

<ul>
	<li>In the main pd window, create a canvas gui (menu Put -&gt; Canvas)</li>
	<li>Make sure the canvas is in the background (select all the objects but the canvas, cut and paste)</li>
	<li>Edit the canvas properties, set the receive name to "ViewPort" and configure its size and position to select the part of the window you want to display on the PdDroidParty screen</li>
	<li>You can dynamically change the viewport by sending "pos" and "vis_size" messages to "ViewPort", so you have visual indication of the portion of the screen that will be displayed on PdDroidParty</li>
</ul>

<p>The selected viewport area will be rescaled in order to fill the screen of the device.</p>

<p>See <code>droidparty-demos/pure-widgets-demo/droidparty_main.pd</code> for an example of this feature.</p>

<h3>Standalone apps</h3>

<p>You can use the PdDroidParty code base to bundle your own Pd patches as standalone Android apps.</p>

<ul>
	<li>Get the source code: `git clone https://github.com/chr15m/PdDroidParty.git MySynthesizer`</li>
	<li>Convert the app name to whatever you like: `./convert-app-name mysynth "My Synthesizer"`</li>
	<li>Replace your own icon 72x72 PNG icon over res/drawable/icon.png</li>
	<li>(optional) Place a splash.svg graphic with 1.333 aspect ratio (e.g. 640x480) in res/raw/</li>
	<li>(optional) edit assets/about.html with your own "about" text</li>
	<li>Place your patch and files with a droidparty_main.pd in the "patch" subfolder</li>
	<li>Pack the patch subfolder into an Android zip resource: `./pack-patch`</li>
	<li>Follow the instructions in the README.txt file for building.</li>
</ul>

<p>There are some good tips for Windows users in <a href='https://forum.pdpatchrepo.info/topic/5496/running-your-patches-on-android-usind-pddroidparty-in-10-steps'>this forum thread.</a></p>

<p>If you make an app based on this source code, <a href='mailto:chris@mccormick.cx'>I would love to hear about it</a>.</p>

<h3>Attributions</h3>

<p>Copyright Chris Mccormick 2011-2013. With contributions from: Kishan Muddu, Antoine Rousseau.</p>

<p>Made with <a href='http://gitorious.org/pdlib/'>libpd</a> by Peter Brinkmann and <a href='http://puredata.info/'>Pure Data</a> by Miller S. Puckette. They are BSD licensed.</p>

<p>Portions of this page and the PdDroidParty software contain modifications based on work created and <a href="http://code.google.com/policies.html">shared by Google</a> and used
  according to terms described in the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons 3.0 Attribution License</a>.</p>

</div>
</div>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.mccormick.cx/" : "http://stats.mccormick.cx/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 3);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://stats.mccormick.cx/piwik.php?idsite=3" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

</body>
</html>
